<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Mass Presentation</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js/dist/reveal.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js/dist/theme/black.css" id="theme">
	<link rel="stylesheet" href="src/css/kilcornan-parish.css">
</head>

<body>
	<div class="reveal">
		<div class="slides">
			<section data-markdown="mass.md" data-separator="^\n---\n" data-separator-vertical="^\n--\n" data-charset="utf-8"></section>
		</div>
	</div>

	<!-- Add the audio element -->
	<audio id="background-audio">
		<source src="media/audio/we-are-gathering-together-unto-him.mp3" type="audio/mpeg">
		Your browser does not support the audio element.
	</audio>

	<button id="fullscreen-btn" type="button">&#x26F6;</button>
	<button id="exit-fullscreen-btn" type="button">&#x2715;</button>
	<button id="play-btn" type="button">Play</button>

	<script src="https://cdn.jsdelivr.net/npm/reveal.js/dist/reveal.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/reveal.js/plugin/markdown/markdown.js"></script>
	<script src="src/js/full-screen-controls.js"></script>
	<script>

		let revealSetting = {
			center: true,
			controls: true,
			height: 1080, // Matches 16:9 ratio
			history: true,
			plugins: [RevealMarkdown],
			progress: true,
			width: 1920, // Matches 16:9 ratio
		};

		Reveal.initialize(revealSetting);

		document.getElementById('play-btn').addEventListener('click', function () {
			let audio = document.getElementById('background-audio');
			audio.play().catch(function (error) {
				console.error("Audio playback failed:", error);
			});

			this.style.display = 'none'; // Hide the play button after clicking
		});

		Reveal.on('ready', function (event) {
			addFullscreenToggleFunctionality();
		});
	</script>
</body>

</html>
